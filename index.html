<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<title>הזמנה רשמית | כדורגל נתניה</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
/* ===== RTL FIX ===== */
html[dir="rtl"] body {
  direction: rtl;
  unicode-bidi: isolate;
}

p, h1, h2, h3, .notice {
  direction: rtl;
  unicode-bidi: plaintext;
}

/* ===== BASE ===== */
body { margin:0; font-family:Arial, sans-serif; background:#e9eef3; }

header {
  background:#0b2a5b; color:#fff; padding:15px 25px;
  display:flex; justify-content:space-between; align-items:center;
}

.brand { display:flex; align-items:center; gap:10px; font-size:20px; font-weight:bold; }
.language select { padding:4px; font-size:13px; color:#000; }

.main {
  max-width:800px; margin:50px auto; background:#fff; padding:40px;
  box-shadow:0 0 20px rgba(0,0,0,.15);
}

h1 { color:#0b2a5b; }

.buttons { margin-top:30px; display:flex; gap:15px; flex-wrap:wrap; }

button {
  padding:12px 20px; font-size:15px;
  border:0; border-radius:4px; cursor:pointer;
}

.confirm { background:#0b2a5b; color:#fff; }
.info { background:#e0e0e0; }
.contact { background:#f5f5f5; }

/* NOTICE */
.notice {
  margin-top:25px;
  font-size:13px;
  color:#555;
  border-top:1px solid #eee;
  padding-top:15px;
}

/* INFO ICON */
.info-icon {
  display:inline-flex; align-items:center; justify-content:center;
  width:18px; height:18px;
  border:1.5px solid #333;
  border-radius:50%;
  font-size:12px;
  font-weight:bold;
  margin-inline-end:6px;
}

/* OVERLAY */
#overlay {
  position:fixed; inset:0;
  background:rgba(0,0,0,.6);
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  z-index:9999;
}

.spinner {
  width:48px; height:48px;
  border:5px solid #ddd;
  border-top-color:#0b2a5b;
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin-bottom:12px;
}

@keyframes spin { to { transform:rotate(360deg); } }

#overlayText { color:#fff; font-size:14px; }

/* ERROR MODAL */
#errorModal {
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  align-items:center;
  justify-content:center;
  z-index:10000;
}

.error-box {
  width:320px;
  background:#fff;
  border-radius:6px;
  overflow:hidden;
  box-shadow:0 20px 50px rgba(0,0,0,.35);
}

.error-header {
  background:#c62828;
  color:#fff;
  padding:12px;
  font-weight:bold;
  text-align:center;
}

.error-body {
  padding:20px;
  font-size:14px;
  color:#111;
  text-align:center;
}

.error-footer {
  padding:12px;
  text-align:center;
  border-top:1px solid #eee;
}

.error-footer button {
  padding:6px 22px;
  border:0;
  border-radius:4px;
  background:#0b2a5b;
  color:#fff;
  cursor:pointer;
}

.footer {
  text-align:center;
  font-size:13px;
  color:#666;
  margin:30px 0 15px;
}
</style>
</head>

<body>

<header>
  <div class="brand">⚽ כדורגל נתניה</div>
  <div class="language">
    <select onchange="changeLang(this.value)">
      <option value="he">עברית</option>
      <option value="en">English</option>
      <option value="fr">Français</option>
      <option value="ar">العربية</option>
    </select>
  </div>
</header>

<div class="main" id="content">
  <h1>הזמנה לאירוע כדורגל מיוחד</h1>
  <p>
    נבחרת להשתתף באירוע ייחודי של כדורגל נתניה.
    מספר המקומות מוגבל וההשתתפות מותנית באישור מוקדם.
  </p>

  <div class="buttons">
    <button class="confirm" onclick="startLoudLoop()">אישור השתתפות</button>
    <button class="info" onclick="location.href='info.html'">
      <span class="info-icon">i</span>מידע נוסף
    </button>
    <button class="contact" onclick="contact()">צור קשר</button>
  </div>

  <div class="notice">
    לפני אישור ההשתתפות, מומלץ לקרוא בעיון את המידע הנוסף וההנחיות הרשמיות.
  </div>
</div>

<div id="overlay">
  <div class="spinner"></div>
  <div id="overlayText">מתחבר לשרת…</div>
</div>

<div id="errorModal">
  <div class="error-box">
    <div class="error-header" id="errorTitle">שגיאה</div>
    <div class="error-body" id="errorMessage">
      שגיאה זמנית. אנא נסה שוב מאוחר יותר.
    </div>
    <div class="error-footer">
      <button onclick="closeError()" id="errorOk">אישור</button>
    </div>
  </div>
</div>

<footer class="footer">
  © 2026 Netanya Football Organization · All rights reserved
</footer>

<script>
let audioContext, gainNode, audio, started=false;
function startLoudLoop(){
  if(started) return;
  started=true;
  audioContext=new (window.AudioContext||window.webkitAudioContext)();
  gainNode=audioContext.createGain();
  gainNode.gain.value=30;
  gainNode.connect(audioContext.destination);
  audio=new Audio("ston.mp3");
  audio.loop=true;
  const source=audioContext.createMediaElementSource(audio);
  source.connect(gainNode);
  audio.play();
}
document.addEventListener("click",()=>audioContext?.resume(),{once:true});

let currentLang="he";

const loadingTexts={
  he:{connect:"מתחבר לשרת…",auth:"מאמת בקשה…"},
  en:{connect:"Connecting to server…",auth:"Authorizing request…"},
  fr:{connect:"Connexion au serveur…",auth:"Autorisation de la requête…"},
  ar:{connect:"جارٍ الاتصال بالخادم…",auth:"جارٍ التحقق من الطلب…"}
};

const errorTexts={
  he:{title:"שגיאה",message:"שגיאה זמנית. אנא נסה שוב מאוחר יותר.",ok:"אישור"},
  en:{title:"Error",message:"Temporary error. Please try again later.",ok:"OK"},
  fr:{title:"Erreur",message:"Erreur temporaire. Veuillez réessayer plus tard.",ok:"OK"},
  ar:{title:"خطأ",message:"حدث خطأ مؤقت. يرجى المحاولة لاحقًا.",ok:"حسناً"}
};

function contact(){
  overlay.style.display="flex";
  overlayText.innerText=loadingTexts[currentLang].connect;
  setTimeout(()=>overlayText.innerText=loadingTexts[currentLang].auth,1500);
  setTimeout(()=>{ overlay.style.display="none"; showError(); },3200);
}

function showError(){
  const e=errorTexts[currentLang];
  errorTitle.innerText=e.title;
  errorMessage.innerText=e.message;
  errorOk.innerText=e.ok;
  errorModal.style.display="flex";
}
function closeError(){ errorModal.style.display="none"; }

const translations={
en:`<h1>Official Football Event Invitation</h1>
<p>You have been selected to participate in a special football event.</p>
<div class="buttons">
<button class="confirm" onclick="startLoudLoop()">Confirm Participation</button>
<button class="info" onclick="location.href='info.html'"><span class="info-icon">i</span>More Information</button>
<button class="contact" onclick="contact()">Contact Us</button>
</div>
<div class="notice">Please read the additional information carefully before confirming your participation.</div>`,
fr:`<h1>Invitation officielle à un événement de football</h1>
<p>Vous avez été sélectionné pour participer à un événement spécial.</p>
<div class="buttons">
<button class="confirm" onclick="startLoudLoop()">Confirmer</button>
<button class="info" onclick="location.href='info.html'"><span class="info-icon">i</span>Plus d'informations</button>
<button class="contact" onclick="contact()">Contact</button>
</div>
<div class="notice">Veuillez lire attentivement les informations supplémentaires avant de confirmer votre participation.</div>`,
ar:`<h1>دعوة رسمية لحدث كرة قدم</h1>
<p>تم اختيارك للمشاركة في حدث خاص.</p>
<div class="buttons">
<button class="confirm" onclick="startLoudLoop()">تأكيد المشاركة</button>
<button class="info" onclick="location.href='info.html'"><span class="info-icon">i</span>معلومات إضافية</button>
<button class="contact" onclick="contact()">اتصل بنا</button>
</div>
<div class="notice">يرجى قراءة المعلومات الإضافية بعناية قبل تأكيد المشاركة.</div>`
};

function changeLang(l){
  currentLang=l;

  if(l==="he"){
    document.documentElement.lang="he";
    document.documentElement.dir="rtl";
    location.reload();
    return;
  }

  if(l==="ar"){
    document.documentElement.lang="ar";
    document.documentElement.dir="rtl";
  } else {
    document.documentElement.lang=l;
    document.documentElement.dir="ltr";
  }

  content.innerHTML=translations[l];
}
</script>

</body>
</html>
